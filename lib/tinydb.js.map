{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/core/Table.ts","src/core/TinyDB.ts","src/core/index.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;ACEA;AACA,IAAA,QAAA,aAAA,YAAA;AAOE,aAAA,KAAA,CAAY,MAAZ,EAAwC;AADhC,aAAA,IAAA,GAA6B,WAA7B;AAEE,YAAA,OAAa,OAAT,IAAJ;AAAA,YAAM,KAAO,OAAL,EAAR;AACR,aAAK,IAAL,GAAY,IAAZ;AACA,aAAK,EAAL,GAAU,EAAV;AACD;AAVM,UAAA,EAAA,GAAP,UAAU,MAAV,EAAsC;AACpC,eAAO,IAAI,KAAJ,CAAU,MAAV,CAAP;AACD,KAFM;AAWP,UAAA,SAAA,CAAA,OAAA,GAAA,UAAQ,IAAR,EAAkC;AAChC,aAAK,IAAL,GAAY,IAAZ;AACD,KAFD;AAGA,UAAA,SAAA,CAAA,OAAA,GAAA,YAAA;AACE,eAAO,KAAK,IAAZ;AACD,KAFD;AAGA;AACA,UAAA,SAAA,CAAA,WAAA,GAAA,UAAY,IAAZ,EAAwB;AACtB,YAAM,cAAc,KAAK,EAAL,CAAQ,WAAR,CAAoB,CAAC,IAAD,CAApB,EAA4B,KAAK,OAAL,EAA5B,CAApB;AACA,eAAO,WAAP;AACD,KAHD;AAIA;AACA,UAAA,SAAA,CAAA,YAAA,GAAA,YAAA;AACU,YAAA,OAAS,KAAL,IAAJ;AACR,eAAO,KAAK,WAAL,CAAiB,IAAjB,EAAuB,WAAvB,CAAmC,IAAnC,CAAP;AACD,KAHD;AAIA,UAAA,SAAA,CAAA,MAAA,GAAA,UAAO,MAAP,EAAkB;AAAlB,YAAA,QAAA,IAAA;AACE,YAAM,UAAU,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAgB;AAC1C,gBAAM,aAAa,MAAK,YAAL,GAAoB,GAApB,CAAwB,MAAxB,CAAnB;AACA,gBAAM,WAAW,SAAX,QAAW,GAAA;AACf,2BAAW,mBAAX,CAA+B,SAA/B,EAA0C,OAA1C;AACA,2BAAW,mBAAX,CAA+B,OAA/B,EAAwC,KAAxC;AACD,aAHD;AAIA,gBAAM,UAAU,SAAV,OAAU,GAAA;AACd,wBAAQ;AACN,yBAAK,8BADC;AAEN,4BAAQ;AAFF,iBAAR;AAIA;AACD,aAND;AAOA,gBAAM,QAAQ,SAAR,KAAQ,GAAA;AACZ,wBAAQ;AACN,yBAAK,wBADC;AAEN,4BAAQ;AAFF,iBAAR;AAID,aALD;AAMA,uBAAW,gBAAX,CAA4B,SAA5B,EAAuC,OAAvC;AACA,uBAAW,gBAAX,CAA4B,OAA5B,EAAqC,KAArC;AACD,SArBe,CAAhB;AAsBA,eAAO,OAAP;AACD,KAxBD;AAyBA,UAAA,SAAA,CAAA,MAAA,GAAA,UAAO,KAAP,EAAoC,MAApC,EAA+C;AAA/C,YAAA,QAAA,IAAA;AACE,YAAM,UAAU,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAgB;AAC1C,gBAAM,aAAa,MAAK,YAAL,GAAoB,GAApB,CAAwB,KAAxB,CAAnB;AACA,uBAAW,SAAX,GAAuB,YAAA;AACrB,oBAAM,OAAO,WAAW,MAAxB;AACA,oBAAM,cAAW,SAAA,SAAA,EAAA,EACZ,IADY,CAAA,EAEZ,MAFY,CAAjB;AAIA,oBAAM,gBAAgB,MAAK,YAAL,GAAoB,GAApB,CAAwB,WAAxB,CAAtB;AACA,8BAAc,SAAd,GAA0B,YAAA;AACxB,4BAAQ;AACN,6BAAK,sBADC;AAEN,wCAAgB;AAFV,qBAAR;AAID,iBALD;AAMA,8BAAc,OAAd,GAAwB,YAAA;AACtB,2BAAO;AACL,6BAAK,gBADA;AAEL,wCAAgB;AAFX,qBAAP;AAID,iBALD;AAMD,aAnBD;AAoBA,uBAAW,OAAX,GAAqB,YAAA;AACnB,uBAAO;AACL,yBAAK,aADA;AAEL,oCAAgB;AAFX,iBAAP;AAID,aALD;AAMD,SA5Be,CAAhB;AA6BA,eAAO,OAAP;AACD,KA/BD;AAgCA,UAAA,SAAA,CAAA,eAAA,GAAA,UAAgB,EAAhB,EAAwC;AAAxC,YAAA,QAAA,IAAA;AACE,eAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAgB;AACjC,gBAAM,aAAa,MAAK,YAAL,GAAoB,GAApB,CAAwB,EAAxB,CAAnB;AACA,uBAAW,SAAX,GAAuB,YAAA;AACrB,wBAAQ,WAAW,MAAnB;AACD,aAFD;AAGA,uBAAW,OAAX,GAAqB,YAAA;AACnB,uBAAO,WAAW,MAAlB;AACD,aAFD;AAGD,SARM,CAAP;AASD,KAVD;AAWA,UAAA,SAAA,CAAA,UAAA,GAAA,UAAW,MAAX,EAAoC;AAApC,YAAA,QAAA,IAAA;AACU,YAAA,QAAiB,OAAZ,KAAL;AAAA,YAAO,QAAU,OAAL,KAAZ;AACR,eAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAgB;AACjC,gBAAM,aAAa,MAAK,YAAL,GAAoB,KAApB,CAA0B,KAA1B,EAAiC,MAAjC,CAAwC,KAAxC,CAAnB;AACA,uBAAW,SAAX,GAAuB,YAAA;AACrB,wBAAQ,WAAW,MAAnB;AACD,aAFD;AAGA,uBAAW,OAAX,GAAqB,YAAA;AACnB,uBAAO,WAAW,MAAlB;AACD,aAFD;AAGD,SARM,CAAP;AASD,KAXD;AAYA,UAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AAAA,YAAA,QAAA,IAAA;AACE,eAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAgB;AACjC,gBAAM,aAAa,MAAK,YAAL,GAAoB,MAApB,EAAnB;AACA,uBAAW,SAAX,GAAuB,YAAA;AACrB,wBAAQ,WAAW,MAAnB;AACD,aAFD;AAGA,uBAAW,OAAX,GAAqB,YAAA;AACnB,uBAAO,WAAW,MAAlB;AACD,aAFD;AAGD,SARM,CAAP;AASD,KAVD;AAWA,UAAA,SAAA,CAAA,IAAA,GAAA,UAAK,MAAL,EAAiC;AAAjC,YAAA,QAAA,IAAA;AACU,YAAA,QAAwB,OAAnB,KAAL;AAAA,YAAO,QAAiB,OAAZ,KAAZ;AAAA,YAAc,QAAU,OAAL,KAAnB;AACR,eAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAgB;AACjC,gBAAM,QAAa,EAAnB;AACA,gBAAM,SAAS,MAAK,YAAL,GAAoB,KAApB,CAA0B,KAA1B,CAAf;AACA,gBAAM,QAAQ,YAAY,KAAZ,CAAkB,KAAlB,EAAyB,KAAzB,CAAd;AACA,gBAAM,eAAe,OAAO,UAAP,CAAkB,KAAlB,CAArB;AACA,yBAAa,SAAb,GAAyB,YAAA;AACvB,oBAAM,SAAS,aAAa,MAA5B;AACA,oBAAI,MAAJ,EAAY;AACV,0BAAM,IAAN,CAAW,OAAO,KAAlB;AACA,2BAAO,QAAP;AACD,iBAHD,MAGO;AACL,4BAAQ,KAAR;AACD;AACF,aARD;AASA,yBAAa,OAAb,GAAuB,YAAA;AACrB,uBAAO,aAAa,KAApB;AACD,aAFD;AAGD,SAjBM,CAAP;AAkBD,KApBD;AAqBA,UAAA,SAAA,CAAA,YAAA,GAAA,UAAa,MAAb,EAAsC;AAAtC,YAAA,QAAA,IAAA;AACE,eAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAgB;AACjC,kBAAK,UAAL,CAAgB,MAAhB,EAAwB,IAAxB,CAA6B,UAAC,IAAD,EAAY;AAEvC,oBAAI,CAAC,KAAK,MAAV,EAAkB;AAChB,2BAAO,QAAQ,IAAR,CAAa,sBAAb,CAAP;AACD;AAED,qBAAmB,IAAA,KAAA,CAAA,EAAA,SAAA,IAAnB,EAAmB,KAAA,OAAA,MAAnB,EAAmB,IAAnB,EAAyB;AAApB,wBAAM,OAAI,OAAA,EAAA,CAAV;AACH,wBAAM,QAAQ,MAAK,YAAL,EAAd;AACQ,wBAAA,UAAY,MAAL,OAAP;AACR,wBAAM,gBAAgB,MAAM,MAAN,CAAa,KAAK,OAAL,CAAb,CAAtB;AACA,kCAAc,SAAd,GAA0B,YAAA;AACxB,gCAAQ;AACN,iCAAK,sBADC;AAEN,oCAAQ;AAFF,yBAAR;AAID,qBALD;AAMA,kCAAc,OAAd,GAAwB,YAAA;AACtB,+BAAO;AACL,iCAAK,gBADA;AAEL,oCAAQ;AAFH,yBAAP;AAID,qBALD;AAMD;AACF,aAvBD;AAwBD,SAzBM,CAAP;AA0BD,KA3BD;AA4BA,UAAA,SAAA,CAAA,KAAA,GAAA,YAAA;AAAA,YAAA,QAAA,IAAA;AACE,eAAO,IAAI,OAAJ,CAAa,UAAC,OAAD,EAAU,MAAV,EAAgB;AAClC,gBAAM,eAAe,MAAK,YAAL,GAAoB,KAApB,EAArB;AACA,yBAAa,SAAb,GAAyB,YAAA;AACvB,wBAAQ;AACN,yBAAK,qBADC;AAEN,4BAAQ;AAFF,iBAAR;AAID,aALD;AAMA,yBAAa,OAAb,GAAuB,YAAA;AACrB,uBAAO;AACL,yBAAK,eADA;AAEL,4BAAQ;AAFH,iBAAP;AAID,aALD;AAMD,SAdM,CAAP;AAeD,KAhBD;AAiBA,UAAA,SAAA,CAAA,SAAA,GAAA,YAAA;AACE,aAAK,EAAL,GAAU,SAAV;AACA,aAAK,IAAL,GAAY,EAAZ;AACD,KAHD;AAIF,WAAA,KAAA;AAAC,CA7LD,EAAA;;;;;;;ACHA,IAAA,UAAA,QAAA,SAAA,CAAA;AAIA,IAAM,QAAQ,OAAO,SAAP,IAAoB,OAAO,YAA3B,IAA2C,OAAO,eAAlD,IAAqE,OAAO,WAA1F;AAEA,IAAA,SAAA,aAAA,YAAA;AAOE,aAAA,MAAA,GAAA,CAAiB;AAHV,WAAA,EAAA,GAAP,YAAA;AACE,eAAO,IAAI,MAAJ,EAAP;AACD,KAFM;AAIP,WAAA,SAAA,CAAA,KAAA,GAAA,UAAM,OAAN,EAAgC;AACtB,YAAA,SAAW,QAAL,MAAN;AACR,aAAK,MAAL,GAAc,MAAd;AACA,eAAO,IAAP;AACD,KAJD;AAKA,WAAA,SAAA,CAAA,UAAA,GAAA,YAAA;AACE,eAAO,KAAK,OAAL,GAAe,KAAK,OAApB,GAA8B,CAArC;AACD,KAFD;AAGA,WAAA,SAAA,CAAA,UAAA,GAAA,UAAW,OAAX,EAA0B;AACxB,aAAK,OAAL,GAAe,OAAf;AACD,KAFD;AAGA,WAAA,SAAA,CAAA,OAAA,GAAA,YAAA,CAEC,CAFD;AAGA,WAAA,SAAA,CAAA,WAAA,GAAA,UAAY,OAAZ,EAAuD;AAAvD,YAAA,QAAA,IAAA;AAAY,YAAA,YAAA,KAAA,CAAA,EAAA;AAAA,sBAAA,SAAA;AAA2C;AAC7C,YAAA,SAAW,KAAL,MAAN;AACR,YAAM,OAAO,IAAb;AAEA,YAAI,YAAY,SAAhB,EAA2B;AACzB,mBAAO,QAAQ,KAAR,CAAc,mCAAd,CAAP;AACD;AAED,YAAM,UAAU,MAAM,IAAN,CAAW,MAAX,EAAmB,KAAK,UAAL,EAAnB,CAAhB;AAGA,YAAM,WAAW,SAAX,QAAW,GAAA;AACf,oBAAQ,mBAAR,CAA4B,eAA5B,EAA6C,OAA7C;AACD,SAFD;AAIA,YAAM,UAAU,SAAV,OAAU,GAAA;AACd,oBAAQ,GAAR,CAAY,SAAZ;AACA,gBAAM,KAAK,QAAQ,MAAnB;AACA,iBAAoB,IAAA,KAAA,CAAA,EAAA,YAAA,OAApB,EAAoB,KAAA,UAAA,MAApB,EAAoB,IAApB,EAA6B;AAAxB,oBAAM,QAAK,UAAA,EAAA,CAAX;AACH,oBAAI,CAAC,GAAG,gBAAH,CAAoB,QAApB,CAA6B,MAAM,IAAnC,CAAL,EAA+C;AAC7C,wBAAM,SAAS,GAAG,iBAAH,CAAqB,MAAM,IAA3B,EAAiC;AAC9C,iCAAS,MAAM,OAD+B;AAE9C,uCAAe,MAAM,aAAN,GAAsB,IAAtB,GAA6B;AAFE,qBAAjC,CAAf;AAIA,wBAAI,MAAM,MAAN,IAAgB,MAAM,MAAN,CAAa,MAAb,KAAwB,CAA5C,EAA+C;AAC7C,6BAAoB,IAAA,KAAA,CAAA,EAAA,KAAA,MAAM,MAA1B,EAAoB,KAAA,GAAA,MAApB,EAAoB,IAApB,EAAkC;AAA7B,gCAAM,QAAK,GAAA,EAAA,CAAX;AACH,mCAAO,WAAP,CAAmB,MAAM,KAAzB,EAAgC,MAAM,aAAtC,EAAqD,EAAE,QAAQ,MAAM,MAAhB,EAArD;AACD;AACF;AACF;AACF;AACD,iBAAK,UAAL,CAAgB,GAAG,OAAnB;AACA;AACD,SAlBD;AAoBA,gBAAQ,gBAAR,CAAyB,eAAzB,EAA0C,OAA1C;AAEA,YAAM,UAAU,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAgB;AAC1C,kBAAK,OAAL,CAAa,OAAb,EAAsB,IAAtB,CAA2B,UAAA,EAAA,EAAE;AAC3B,oBAAM,gBAAgB,SAAhB,aAAgB,CAAC,GAAD,EAA2B;AAC/C,4BAAQ,GAAR,CAAY,eAAZ;AACA,uBAAG,KAAH;AACA,uBAAG,mBAAH,CAAuB,eAAvB,EAAwC,aAAxC;AACD,iBAJD;AAKA,mBAAG,gBAAH,CAAoB,eAApB,EAAqC,aAArC;AACD,aAPD;AAQD,SATe,CAAhB;AAUA,eAAO,OAAP;AACD,KAhDD;AAiDA,WAAA,SAAA,CAAA,cAAA,GAAA,UAAe,IAAf,EAA2B;AAEzB,YAAM,UAAU,MAAM,cAAN,CAAqB,IAArB,CAAhB;AACA,YAAM,UAAU,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAgB;AAC1C,oBAAQ,SAAR,GAAoB,YAAA;AAClB,wBAAQ,GAAR,CAAY,GAAZ;AACA,oBAAM,MAAsB;AAC1B,yBAAK,+BADqB;AAE1B,4BAAQ;AAFkB,iBAA5B;AAIA,wBAAQ,GAAR;AACD,aAPD;AAQA,oBAAQ,OAAR,GAAkB,YAAA;AAEhB,oBAAM,MAAsB;AAC1B,yBAAK,yBADqB;AAE1B,4BAAQ,IAFkB;AAG1B,oCAAgB;AAHU,iBAA5B;AAKA,uBAAO,GAAP;AACD,aARD;AASD,SAlBe,CAAhB;AAmBA,eAAO,OAAP;AACD,KAvBD;AAwBA,WAAA,SAAA,CAAA,OAAA,GAAA,UAAW,OAAX,EAAmC,OAAnC,EAAqE;AAEnE,YAAM,UAAU,IAAI,OAAJ,CAAe,UAAC,OAAD,EAAU,MAAV,EAAgB;AAE7C,gBAAM,WAAW,SAAX,QAAW,GAAA;AACf,wBAAQ,mBAAR,CAA4B,SAA5B,EAAuC,OAAvC;AACA,wBAAQ,mBAAR,CAA4B,OAA5B,EAAqC,KAArC;AACD,aAHD;AAKA,gBAAM,UAAU,SAAV,OAAU,GAAA;AACd,oBAAI,WAAW,QAAQ,YAAvB,EAAqC;AACnC,4BAAQ,YAAR,CAAqB,OAArB;AACD;AACD,wBAAQ,QAAQ,MAAhB;AACA;AACD,aAND;AAOA,gBAAM,UAAU,SAAV,OAAU,GAAA;AACd,oBAAI,WAAW,QAAQ,OAAvB,EAAgC;AAC9B,4BAAQ,OAAR,CAAgB,OAAhB;AACD;AACD,wBAAQ,GAAR,CAAY,iBAAZ;AACD,aALD;AAOA,gBAAM,QAAQ,SAAR,KAAQ,GAAA;AACZ,oBAAI,WAAW,QAAQ,KAAvB,EAA8B;AAC5B,4BAAQ,KAAR,CAAc,OAAd;AACD;AAED,uBAAO,QAAQ,KAAf;AACA;AACD,aAPD;AAQA,oBAAQ,gBAAR,CAAyB,SAAzB,EAAoC,OAApC;AACA,oBAAQ,gBAAR,CAAyB,OAAzB,EAAkC,KAAlC;AACA,oBAAQ,gBAAR,CAAyB,SAAzB,EAAoC,OAApC;AACD,SAhCe,CAAhB;AAkCA,eAAO,OAAP;AACD,KArCD;AAsCA,WAAA,SAAA,CAAA,MAAA,GAAA,UAAO,UAAP,EAA2B,MAA3B,EAAsC;AAAtC,YAAA,QAAA,IAAA;AACE,YAAM,UAAU,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAgB;AAC1C,gBAAM,UAAU,MAAM,IAAN,CAAW,MAAK,MAAhB,EAAwB,MAAK,UAAL,EAAxB,CAAhB;AACA,kBAAK,OAAL,CAAa,OAAb,EAAsB,IAAtB,CAA2B,UAAC,EAAD,EAAgB;AACzC,oBAAM,WAAW,QAAA,OAAA,CAAM,EAAN,CAAS;AACxB,0BAAM,UADkB;AAExB,wBAAE;AAFsB,iBAAT,CAAjB;AAIA,yBAAS,MAAT,CAAgB,MAAhB,EAAwB,IAAxB,CAA6B,UAAA,GAAA,EAAG;AAAI,2BAAA,QAAA,GAAA,CAAA;AAAY,iBAAhD,EAAkD,KAAlD,CAAwD,UAAC,GAAD,EAAI;AAAK,2BAAA,OAAA,GAAA,CAAA;AAAW,iBAA5E;AACD,aAND;AAOD,SATe,CAAhB;AAUA,eAAO,OAAP;AACD,KAZD;AAaA,WAAA,SAAA,CAAA,MAAA,GAAA,UAAO,UAAP,EAA2B,KAA3B,EAAwD,MAAxD,EAAmE;AAAnE,YAAA,QAAA,IAAA;AACE,YAAM,UAAU,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAgB;AAC1C,gBAAM,UAAU,MAAM,IAAN,CAAW,MAAK,MAAhB,EAAwB,MAAK,UAAL,EAAxB,CAAhB;AACA,kBAAK,OAAL,CAAa,OAAb,EAAsB,IAAtB,CAA2B,UAAC,EAAD,EAAgB;AACzC,oBAAM,WAAW,QAAA,OAAA,CAAM,EAAN,CAAS;AACxB,0BAAM,UADkB;AAExB,wBAAE;AAFsB,iBAAT,CAAjB;AAIA,yBAAS,MAAT,CAAgB,KAAhB,EAAuB,MAAvB,EAA+B,IAA/B,CAAoC,UAAA,GAAA,EAAG;AAAI,2BAAA,QAAA,GAAA,CAAA;AAAY,iBAAvD,EAAyD,KAAzD,CAA+D,UAAC,GAAD,EAAI;AAAK,2BAAA,OAAA,GAAA,CAAA;AAAW,iBAAnF;AACD,aAND;AAOD,SATe,CAAhB;AAUA,eAAO,OAAP;AACD,KAZD;AAaA,WAAA,SAAA,CAAA,MAAA,GAAA,UAAO,UAAP,EAAyB;AAAzB,YAAA,QAAA,IAAA;AACE,YAAM,UAAU,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAgB;AAC1C,gBAAM,UAAU,MAAM,IAAN,CAAW,MAAK,MAAhB,EAAwB,MAAK,UAAL,EAAxB,CAAhB;AACA,kBAAK,OAAL,CAAa,OAAb,EAAsB,IAAtB,CAA2B,UAAC,EAAD,EAAgB;AACzC,oBAAM,WAAW,QAAA,OAAA,CAAM,EAAN,CAAS;AACxB,0BAAM,UADkB;AAExB,wBAAE;AAFsB,iBAAT,CAAjB;AAIA,yBAAS,MAAT,GAAkB,IAAlB,CAAuB,UAAA,GAAA,EAAG;AAAI,2BAAA,QAAA,GAAA,CAAA;AAAY,iBAA1C,EAA4C,KAA5C,CAAkD,UAAC,GAAD,EAAI;AAAK,2BAAA,OAAA,GAAA,CAAA;AAAW,iBAAtE;AACD,aAND;AAOD,SATe,CAAhB;AAUA,eAAO,OAAP;AACD,KAZD;AAaA,WAAA,SAAA,CAAA,eAAA,GAAA,UAAgB,UAAhB,EAAoC,GAApC,EAA6D;AAA7D,YAAA,QAAA,IAAA;AACE,YAAM,UAAU,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAgB;AAC1C,gBAAM,UAAU,MAAM,IAAN,CAAW,MAAK,MAAhB,EAAwB,MAAK,UAAL,EAAxB,CAAhB;AACA,kBAAK,OAAL,CAAa,OAAb,EAAsB,IAAtB,CAA2B,UAAC,EAAD,EAAgB;AACzC,oBAAM,WAAW,QAAA,OAAA,CAAM,EAAN,CAAS;AACxB,0BAAM,UADkB;AAExB,wBAAE;AAFsB,iBAAT,CAAjB;AAIA,yBAAS,eAAT,CAAyB,GAAzB,EAA8B,IAA9B,CAAmC,UAAA,GAAA,EAAG;AAAI,2BAAA,QAAA,GAAA,CAAA;AAAY,iBAAtD,EAAwD,KAAxD,CAA8D,UAAC,GAAD,EAAI;AAAK,2BAAA,OAAA,GAAA,CAAA;AAAW,iBAAlF;AACD,aAND;AAOD,SATe,CAAhB;AAUA,eAAO,OAAP;AACD,KAZD;AAaA,WAAA,SAAA,CAAA,UAAA,GAAA,UAAW,UAAX,EAA+B,OAA/B,EAAyD;AAAzD,YAAA,QAAA,IAAA;AACE,YAAM,UAAU,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAgB;AAC1C,gBAAM,UAAU,MAAM,IAAN,CAAW,MAAK,MAAhB,EAAwB,MAAK,UAAL,EAAxB,CAAhB;AACA,kBAAK,OAAL,CAAa,OAAb,EAAsB,IAAtB,CAA2B,UAAC,EAAD,EAAgB;AACzC,oBAAM,WAAW,QAAA,OAAA,CAAM,EAAN,CAAS;AACxB,0BAAM,UADkB;AAExB,wBAAE;AAFsB,iBAAT,CAAjB;AAIA,yBAAS,UAAT,CAAoB,OAApB,EAA6B,IAA7B,CAAkC,UAAA,GAAA,EAAG;AAAI,2BAAA,QAAA,GAAA,CAAA;AAAY,iBAArD,EAAuD,KAAvD,CAA6D,UAAC,GAAD,EAAI;AAAK,2BAAA,OAAA,GAAA,CAAA;AAAW,iBAAjF;AACD,aAND;AAOD,SATe,CAAhB;AAUA,eAAO,OAAP;AACD,KAZD;AAaA,WAAA,SAAA,CAAA,YAAA,GAAA,UAAa,UAAb,EAAiC,OAAjC,EAA2D;AAA3D,YAAA,QAAA,IAAA;AACE,YAAM,UAAU,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAgB;AAC1C,gBAAM,UAAU,MAAM,IAAN,CAAW,MAAK,MAAhB,EAAwB,MAAK,UAAL,EAAxB,CAAhB;AACA,kBAAK,OAAL,CAAa,OAAb,EAAsB,IAAtB,CAA2B,UAAC,EAAD,EAAgB;AACzC,oBAAM,WAAW,QAAA,OAAA,CAAM,EAAN,CAAS;AACxB,0BAAM,UADkB;AAExB,wBAAE;AAFsB,iBAAT,CAAjB;AAIA,yBAAS,YAAT,CAAsB,OAAtB,EAA+B,IAA/B,CAAoC,UAAA,GAAA,EAAG;AAAI,2BAAA,QAAA,GAAA,CAAA;AAAY,iBAAvD,EAAyD,KAAzD,CAA+D,UAAC,GAAD,EAAI;AAAK,2BAAA,OAAA,GAAA,CAAA;AAAW,iBAAnF;AACD,aAND;AAOD,SATe,CAAhB;AAUA,eAAO,OAAP;AACD,KAZD;AAaA,WAAA,SAAA,CAAA,IAAA,GAAA,UAAK,UAAL,EAAyB,OAAzB,EAAsD;AAAtD,YAAA,QAAA,IAAA;AACE,YAAM,UAAU,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAgB;AAC1C,gBAAM,UAAU,MAAM,IAAN,CAAW,MAAK,MAAhB,EAAwB,MAAK,UAAL,EAAxB,CAAhB;AACA,kBAAK,OAAL,CAAa,OAAb,EAAsB,IAAtB,CAA2B,UAAC,EAAD,EAAgB;AACzC,oBAAM,WAAW,QAAA,OAAA,CAAM,EAAN,CAAS;AACxB,0BAAM,UADkB;AAExB,wBAAE;AAFsB,iBAAT,CAAjB;AAIA,yBAAS,IAAT,CAAc,OAAd,EAAuB,IAAvB,CAA4B,UAAA,GAAA,EAAG;AAAI,2BAAA,QAAA,GAAA,CAAA;AAAY,iBAA/C,EAAiD,KAAjD,CAAuD,UAAC,GAAD,EAAI;AAAK,2BAAA,OAAA,GAAA,CAAA;AAAW,iBAA3E;AACD,aAND;AAOD,SATe,CAAhB;AAUA,eAAO,OAAP;AACD,KAZD;AAaA,WAAA,SAAA,CAAA,gBAAA,GAAA,UAAiB,UAAjB,EAAmC;AAAnC,YAAA,QAAA,IAAA;AACE,YAAM,UAAU,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAgB;AAC1C,gBAAM,UAAU,MAAM,IAAN,CAAW,MAAK,MAAhB,EAAwB,MAAK,UAAL,EAAxB,CAAhB;AACA,kBAAK,OAAL,CAAa,OAAb,EAAsB,IAAtB,CAA2B,UAAC,EAAD,EAAgB;AACzC,oBAAM,WAAW,QAAA,OAAA,CAAM,EAAN,CAAS;AACxB,0BAAM,UADkB;AAExB,wBAAE;AAFsB,iBAAT,CAAjB;AAIA,yBAAS,KAAT,GAAiB,IAAjB,CAAsB,UAAA,GAAA,EAAG;AAAI,2BAAA,QAAA,GAAA,CAAA;AAAY,iBAAzC,EAA2C,KAA3C,CAAiD,UAAC,GAAD,EAAI;AAAK,2BAAA,OAAA,GAAA,CAAA;AAAW,iBAArE;AACD,aAND;AAOD,SATe,CAAhB;AAUA,eAAO,OAAP;AACD,KAZD;AAaF,WAAA,MAAA;AAAC,CA7OD,EAAA;;;;;;;;ACNA,IAAA,WAAA,QAAA,UAAA,CAAA;AAKE,QAAA,MAAA,GALK,SAAA,OAKL;AAHF,OAAO,MAAP,GAAgB,SAAA,OAAhB","file":"tinydb.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import { ITinyDB } from \"./types/index\";\n\n// 操作 table 使用\nexport default class Table {\n  static of(option: ITinyDB.IInvokeTable) {\n    return new Table(option)\n  }\n  private name: string\n  private db: IDBDatabase | undefined;\n  private mode: ITinyDB.IOperateMode = 'readwrite'\n  constructor(option: ITinyDB.IInvokeTable) {\n    const { name, db } = option\n    this.name = name\n    this.db = db\n  }\n  setMode(mode: ITinyDB.IOperateMode) {\n    this.mode = mode\n  }\n  getMode() {\n    return this.mode\n  }\n  // create transaction \n  transaction(name: string) {\n    const transaction = this.db.transaction([name], this.getMode())\n    return transaction\n  }\n  // open or conntect this table \n  requestStore() {\n    const { name } = this\n    return this.transaction(name).objectStore(name)\n  }\n  insert(record: any) {\n    const promise = new Promise((resolve, reject) => {\n      const addRequest = this.requestStore().put(record)\n      const unlisten = () => {\n        addRequest.removeEventListener('success', success)\n        addRequest.removeEventListener('error', error)\n      }\n      const success = () => {\n        resolve({\n          msg: 'add one record successfully!',\n          status: true\n        })\n        unlisten()\n      }\n      const error = () => {\n        resolve({\n          msg: 'add one record failed!',\n          status: false\n        })\n      }\n      addRequest.addEventListener('success', success)\n      addRequest.addEventListener('error', error)\n    })\n    return promise\n  }\n  update(index: ITinyDB.IValidateKey, record: any) {\n    const promise = new Promise((resolve, reject) => {\n      const getRequest = this.requestStore().get(index);\n      getRequest.onsuccess = () => {\n        const data = getRequest.result\n        const update_data = {\n          ...data,\n          ...record\n        }\n        const updateRequest = this.requestStore().put(update_data);\n        updateRequest.onsuccess = () => {\n          resolve({\n            msg: 'update successfully!',\n            activedRequest: updateRequest\n          })\n        }\n        updateRequest.onerror = () => {\n          reject({\n            msg: 'update failed!',\n            activedRequest: updateRequest\n          })\n        }\n      }\n      getRequest.onerror = () => {\n        reject({\n          msg: 'get failed!',\n          activedRequest: getRequest\n        })\n      }\n    })\n    return promise\n  }\n  getByPrimaryKey(id: ITinyDB.IValidateKey) {\n    return new Promise((resolve, reject) => {\n      const getRequest = this.requestStore().get(id)\n      getRequest.onsuccess = () => {\n        resolve(getRequest.result)\n      }\n      getRequest.onerror = () => {\n        reject(getRequest.result)\n      }\n    })\n  }\n  getByIndex(option: ITinyDB.IGetIndex) {\n    const { index, value } = option\n    return new Promise((resolve, reject) => {\n      const getRequest = this.requestStore().index(index).getAll(value)\n      getRequest.onsuccess = () => {\n        resolve(getRequest.result)\n      }\n      getRequest.onerror = () => {\n        reject(getRequest.result)\n      }\n    })\n  }\n  getAll() {\n    return new Promise((resolve, reject) => {\n      const getRequest = this.requestStore().getAll()\n      getRequest.onsuccess = () => {\n        resolve(getRequest.result)\n      }\n      getRequest.onerror = () => {\n        reject(getRequest.result)\n      }\n    })\n  }\n  some(option: ITinyDB.ISomeOptions) {\n    const { index, lower, upper } = option\n    return new Promise((resolve, reject) => {\n      const cache: any = [];\n      const cursor = this.requestStore().index(index);\n      const range = IDBKeyRange.bound(lower, upper)\n      const rangeRequest = cursor.openCursor(range)\n      rangeRequest.onsuccess = () => {\n        const result = rangeRequest.result;\n        if (result) {\n          cache.push(result.value)\n          result.continue()\n        } else {\n          resolve(cache)\n        }\n      }\n      rangeRequest.onerror = () => {\n        reject(rangeRequest.error)\n      }\n    })\n  }\n  deleteRecord(option: ITinyDB.IGetIndex) {\n    return new Promise((resolve, reject) => {\n      this.getByIndex(option).then((data: any[]) => {\n\n        if (!data.length) {\n          return console.warn('not find this record')\n        }\n\n        for (const item of data) {\n          const store = this.requestStore()\n          const { keyPath } = store\n          const deleteRequest = store.delete(item[keyPath as string])\n          deleteRequest.onsuccess = () => {\n            resolve({\n              msg: 'delete successfully!',\n              status: true\n            })\n          }\n          deleteRequest.onerror = () => {\n            reject({\n              msg: 'delete failed!',\n              status: false\n            })\n          }\n        }\n      })\n    })\n  }\n  clear() {\n    return new Promise( (resolve, reject) => {\n      const clearRequest = this.requestStore().clear()\n      clearRequest.onsuccess = () => {\n        resolve({\n          msg: 'clear successfully!',\n          status: true\n        })\n      }\n      clearRequest.onerror = () => {\n        reject({\n          msg: 'clear failed!',\n          status: false\n        })\n      }\n    })\n  }\n  destroyed() {\n    this.db = undefined\n    this.name = ''\n  }\n}","import Table from \"./Table\";\nimport { ITinyDB } from \"./types/index\";\n\n\nconst IN_DB = window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB;\n\nexport default class TinyDB {\n  private dbName: string;\n  private version: number;\n  private db: IDBDatabase\n  static of() {\n    return new TinyDB\n  }\n  constructor() { }\n  setup(options: ITinyDB.IDatabase) {\n    const { dbName } = options\n    this.dbName = dbName\n    return this;\n  }\n  getVersion() {\n    return this.version ? this.version : 1\n  }\n  setVersion(version: number) {\n    this.version = version\n  }\n  upgrade() {\n\n  }\n  createTable(options: ITinyDB.ITableConfig[] = undefined) {\n    const { dbName } = this\n    const that = this\n\n    if (options === undefined) {\n      return console.error('database table config must a list')\n    }\n\n    const request = IN_DB.open(dbName, this.getVersion())\n\n\n    const unlisten = () => {\n      request.removeEventListener('upgradeneeded', upgrade);\n    };\n\n    const upgrade = () => {\n      console.log('upgrade')\n      const db = request.result\n      for (const table of options) {\n        if (!db.objectStoreNames.contains(table.name)) {\n          const record = db.createObjectStore(table.name, {\n            keyPath: table.keyPath,\n            autoIncrement: table.autoIncrement ? true : false\n          })\n          if (table.indexs && table.indexs.length !== 0) {\n            for (const index of table.indexs) {\n              record.createIndex(index.index, index.relativeIndex, { unique: index.unique })\n            }\n          }\n        }\n      }\n      that.setVersion(db.version)\n      unlisten()\n    }\n\n    request.addEventListener('upgradeneeded', upgrade)\n\n    const promise = new Promise((resolve, reject) => {\n      this.connect(request).then(db => {\n        const versionChange = (evt: IDBVersionChangeEvent) => {\n          console.log('versionchange')\n          db.close()\n          db.removeEventListener('versionchange', versionChange)\n        }\n        db.addEventListener('versionchange', versionChange)\n      })\n    })\n    return promise\n  }\n  deleteDatabase(name: string) {\n   \n    const request = IN_DB.deleteDatabase(name)\n    const promise = new Promise((resolve, reject) => {\n      request.onsuccess = () => {\n        console.log(222)\n        const msg: ITinyDB.IState = {\n          msg: 'Database deleted successfully',\n          status: true\n        }\n        resolve(msg)\n      }\n      request.onerror = () => {\n        \n        const msg: ITinyDB.IState = {\n          msg: 'Database deleted failed',\n          status: true,\n          activedRequest: request\n        }\n        reject(msg)\n      }\n    })\n    return promise\n  }\n  connect<T>(request: IDBRequest<T>, options?: ITinyDB.IRequestCallback): Promise<T> {\n\n    const promise = new Promise<T>((resolve, reject) => {\n\n      const unlisten = () => {\n        request.removeEventListener('success', success);\n        request.removeEventListener('error', error);\n      };\n\n      const success = () => {\n        if (options && options.successfully) {\n          options.successfully(request)\n        }\n        resolve(request.result);\n        unlisten()\n      }\n      const blocked = () => {\n        if (options && options.blocked) {\n          options.blocked(request)\n        }\n        console.log('connect blocked')\n      }\n\n      const error = () => {\n        if (options && options.error) {\n          options.error(request)\n        }\n\n        reject(request.error);\n        unlisten()\n      }\n      request.addEventListener('success', success)\n      request.addEventListener('error', error)\n      request.addEventListener('blocked', blocked)\n    })\n\n    return promise\n  }\n  insert(table_name: string, record: any) {\n    const promise = new Promise((resolve, reject) => {\n      const request = IN_DB.open(this.dbName, this.getVersion())\n      this.connect(request).then((db: IDBDatabase) => {\n        const operator = Table.of({\n          name: table_name,\n          db\n        })\n        operator.insert(record).then(res => resolve(res)).catch((err) => reject(err))\n      })\n    })\n    return promise\n  }\n  update(table_name: string, index: ITinyDB.IValidateKey, record: any) {\n    const promise = new Promise((resolve, reject) => {\n      const request = IN_DB.open(this.dbName, this.getVersion())\n      this.connect(request).then((db: IDBDatabase) => {\n        const operator = Table.of({\n          name: table_name,\n          db\n        })\n        operator.update(index, record).then(res => resolve(res)).catch((err) => reject(err))\n      })\n    })\n    return promise\n  }\n  getAll(table_name: string) {\n    const promise = new Promise((resolve, reject) => {\n      const request = IN_DB.open(this.dbName, this.getVersion())\n      this.connect(request).then((db: IDBDatabase) => {\n        const operator = Table.of({\n          name: table_name,\n          db\n        })\n        operator.getAll().then(res => resolve(res)).catch((err) => reject(err))\n      })\n    })\n    return promise\n  }\n  getByPrimaryKey(table_name: string, key: ITinyDB.IValidateKey) {\n    const promise = new Promise((resolve, reject) => {\n      const request = IN_DB.open(this.dbName, this.getVersion())\n      this.connect(request).then((db: IDBDatabase) => {\n        const operator = Table.of({\n          name: table_name,\n          db\n        })\n        operator.getByPrimaryKey(key).then(res => resolve(res)).catch((err) => reject(err))\n      })\n    })\n    return promise\n  }\n  getByIndex(table_name: string, options: ITinyDB.IGetIndex) {\n    const promise = new Promise((resolve, reject) => {\n      const request = IN_DB.open(this.dbName, this.getVersion())\n      this.connect(request).then((db: IDBDatabase) => {\n        const operator = Table.of({\n          name: table_name,\n          db\n        })\n        operator.getByIndex(options).then(res => resolve(res)).catch((err) => reject(err))\n      })\n    })\n    return promise\n  }\n  deleteRecord(table_name: string, options: ITinyDB.IGetIndex) {\n    const promise = new Promise((resolve, reject) => {\n      const request = IN_DB.open(this.dbName, this.getVersion())\n      this.connect(request).then((db: IDBDatabase) => {\n        const operator = Table.of({\n          name: table_name,\n          db\n        })\n        operator.deleteRecord(options).then(res => resolve(res)).catch((err) => reject(err))\n      })\n    })\n    return promise\n  }\n  some(table_name: string, options: ITinyDB.ISomeOptions) {\n    const promise = new Promise((resolve, reject) => {\n      const request = IN_DB.open(this.dbName, this.getVersion())\n      this.connect(request).then((db: IDBDatabase) => {\n        const operator = Table.of({\n          name: table_name,\n          db\n        })\n        operator.some(options).then(res => resolve(res)).catch((err) => reject(err))\n      })\n    })\n    return promise\n  }\n  clearTableRecord(table_name: string) {\n    const promise = new Promise((resolve, reject) => {\n      const request = IN_DB.open(this.dbName, this.getVersion())\n      this.connect(request).then((db: IDBDatabase) => {\n        const operator = Table.of({\n          name: table_name,\n          db\n        })\n        operator.clear().then(res => resolve(res)).catch((err) => reject(err))\n      })\n    })\n    return promise\n  }\n}\n\n","import TinyDB from \"./TinyDB\";\n\nwindow.TinyDB = TinyDB\n\nexport {\n  TinyDB \n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY29yZS9UYWJsZS50cyIsInNyYy9jb3JlL1RpbnlEQi50cyIsInNyYy9jb3JlL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7O0FDRUE7QUFDQSxJQUFBLFFBQUEsYUFBQSxZQUFBO0FBT0UsYUFBQSxLQUFBLENBQVksTUFBWixFQUF3QztBQURoQyxhQUFBLElBQUEsR0FBNkIsV0FBN0I7QUFFRSxZQUFBLE9BQWEsT0FBVCxJQUFKO0FBQUEsWUFBTSxLQUFPLE9BQUwsRUFBUjtBQUNSLGFBQUssSUFBTCxHQUFZLElBQVo7QUFDQSxhQUFLLEVBQUwsR0FBVSxFQUFWO0FBQ0Q7QUFWTSxVQUFBLEVBQUEsR0FBUCxVQUFVLE1BQVYsRUFBc0M7QUFDcEMsZUFBTyxJQUFJLEtBQUosQ0FBVSxNQUFWLENBQVA7QUFDRCxLQUZNO0FBV1AsVUFBQSxTQUFBLENBQUEsT0FBQSxHQUFBLFVBQVEsSUFBUixFQUFrQztBQUNoQyxhQUFLLElBQUwsR0FBWSxJQUFaO0FBQ0QsS0FGRDtBQUdBLFVBQUEsU0FBQSxDQUFBLE9BQUEsR0FBQSxZQUFBO0FBQ0UsZUFBTyxLQUFLLElBQVo7QUFDRCxLQUZEO0FBR0E7QUFDQSxVQUFBLFNBQUEsQ0FBQSxXQUFBLEdBQUEsVUFBWSxJQUFaLEVBQXdCO0FBQ3RCLFlBQU0sY0FBYyxLQUFLLEVBQUwsQ0FBUSxXQUFSLENBQW9CLENBQUMsSUFBRCxDQUFwQixFQUE0QixLQUFLLE9BQUwsRUFBNUIsQ0FBcEI7QUFDQSxlQUFPLFdBQVA7QUFDRCxLQUhEO0FBSUE7QUFDQSxVQUFBLFNBQUEsQ0FBQSxZQUFBLEdBQUEsWUFBQTtBQUNVLFlBQUEsT0FBUyxLQUFMLElBQUo7QUFDUixlQUFPLEtBQUssV0FBTCxDQUFpQixJQUFqQixFQUF1QixXQUF2QixDQUFtQyxJQUFuQyxDQUFQO0FBQ0QsS0FIRDtBQUlBLFVBQUEs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TCxFQUF4QixDQUFoQjtBQUNBLGtCQUFLLE9BQUwsQ0FBYSxPQUFiLEVBQXNCLElBQXRCLENBQTJCLFVBQUMsRUFBRCxFQUFnQjtBQUN6QyxvQkFBTSxXQUFXLFFBQUEsT0FBQSxDQUFNLEVBQU4sQ0FBUztBQUN4QiwwQkFBTSxVQURrQjtBQUV4Qix3QkFBRTtBQUZzQixpQkFBVCxDQUFqQjtBQUlBLHlCQUFTLEtBQVQsR0FBaUIsSUFBakIsQ0FBc0IsVUFBQSxHQUFBLEVBQUc7QUFBSSwyQkFBQSxRQUFBLEdBQUEsQ0FBQTtBQUFZLGlCQUF6QyxFQUEyQyxLQUEzQyxDQUFpRCxVQUFDLEdBQUQsRUFBSTtBQUFLLDJCQUFBLE9BQUEsR0FBQSxDQUFBO0FBQVcsaUJBQXJFO0FBQ0QsYUFORDtBQU9ELFNBVGUsQ0FBaEI7QUFVQSxlQUFPLE9BQVA7QUFDRCxLQVpEO0FBYUYsV0FBQSxNQUFBO0FBQUMsQ0E3T0QsRUFBQTs7Ozs7Ozs7QUNOQSxJQUFBLFdBQUEsUUFBQSxVQUFBLENBQUE7QUFLRSxRQUFBLE1BQUEsR0FMSyxTQUFBLE9BS0w7QUFIRixPQUFPLE1BQVAsR0FBZ0IsU0FBQSxPQUFoQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCB7IElUaW55REIgfSBmcm9tIFwiLi90eXBlcy9pbmRleFwiO1xuXG4vLyDmk43kvZwgdGFibGUg5L2/55SoXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZSB7XG4gIHN0YXRpYyBvZihvcHRpb246IElUaW55REIuSUludm9rZVRhYmxlKSB7XG4gICAgcmV0dXJuIG5ldyBUYWJsZShvcHRpb24pXG4gIH1cbiAgcHJpdmF0ZSBuYW1lOiBzdHJpbmdcbiAgcHJpdmF0ZSBkYjogSURCRGF0YWJhc2UgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgbW9kZTogSVRpbnlEQi5JT3BlcmF0ZU1vZGUgPSAncmVhZHdyaXRlJ1xuICBjb25zdHJ1Y3RvcihvcHRpb246IElUaW55REIuSUludm9rZVRhYmxlKSB7XG4gICAgY29uc3QgeyBuYW1lLCBkYiB9ID0gb3B0aW9uXG4gICAgdGhpcy5uYW1lID0gbmFtZVxuICAgIHRoaXMuZGIgPSBkYlxuICB9XG4gIHNldE1vZGUobW9kZTogSVRpbnlEQi5JT3BlcmF0ZU1vZGUpIHtcbiAgICB0aGlzLm1vZGUgPSBtb2RlXG4gIH1cbiAgZ2V0TW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5tb2RlXG4gIH1cbiAgLy8gY3JlYXRlIHRyYW5zYWN0aW9uIFxuICB0cmFuc2FjdGlvbihuYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRoaXMuZGIudHJhbnNhY3Rpb24oW25hbWVdLCB0aGlzLmdldE1vZGUoKSlcbiAgICByZXR1cm4gdHJhbnNhY3Rpb25cbiAgfVxuICAvLyBvcGVuIG9yIGNvbm50ZWN0IHRoaXMgdGFibGUgXG4gIHJlcXVlc3RTdG9yZSgpIHtcbiAgICBjb25zdCB7IG5hbWUgfSA9IHRoaXNcbiAgICByZXR1cm4gdGhpcy50cmFuc2FjdGlvbihuYW1lKS5vYmplY3RTdG9yZShuYW1lKVxuICB9XG4gIGluc2VydChyZWNvcmQ6IGFueSkge1xuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBhZGRSZXF1ZXN0ID0gdGhpcy5yZXF1ZXN0U3RvcmUoKS5wdXQocmVjb3JkKVxuICAgICAgY29uc3QgdW5saXN0ZW4gPSAoKSA9PiB7XG4gICAgICAgIGFkZFJlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VjY2VzcycsIHN1Y2Nlc3MpXG4gICAgICAgIGFkZFJlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcilcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgIG1zZzogJ2FkZCBvbmUgcmVjb3JkIHN1Y2Nlc3NmdWxseSEnLFxuICAgICAgICAgIHN0YXR1czogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgICB1bmxpc3RlbigpXG4gICAgICB9XG4gICAgICBjb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgbXNnOiAnYWRkIG9uZSByZWNvcmQgZmFpbGVkIScsXG4gICAgICAgICAgc3RhdHVzOiBmYWxzZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgYWRkUmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdzdWNjZXNzJywgc3VjY2VzcylcbiAgICAgIGFkZFJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcilcbiAgICB9KVxuICAgIHJldHVybiBwcm9taXNlXG4gIH1cbiAgdXBkYXRlKGluZGV4OiBJVGlueURCLklWYWxpZGF0ZUtleSwgcmVjb3JkOiBhbnkpIHtcbiAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgZ2V0UmVxdWVzdCA9IHRoaXMucmVxdWVzdFN0b3JlKCkuZ2V0KGluZGV4KTtcbiAgICAgIGdldFJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBkYXRhID0gZ2V0UmVxdWVzdC5yZXN1bHRcbiAgICAgICAgY29uc3QgdXBkYXRlX2RhdGEgPSB7XG4gICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICAuLi5yZWNvcmRcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVSZXF1ZXN0ID0gdGhpcy5yZXF1ZXN0U3RvcmUoKS5wdXQodXBkYXRlX2RhdGEpO1xuICAgICAgICB1cGRhdGVSZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgIG1zZzogJ3VwZGF0ZSBzdWNjZXNzZnVsbHkhJyxcbiAgICAgICAgICAgIGFjdGl2ZWRSZXF1ZXN0OiB1cGRhdGVSZXF1ZXN0XG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVSZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgIG1zZzogJ3VwZGF0ZSBmYWlsZWQhJyxcbiAgICAgICAgICAgIGFjdGl2ZWRSZXF1ZXN0OiB1cGRhdGVSZXF1ZXN0XG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZ2V0UmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICByZWplY3Qoe1xuICAgICAgICAgIG1zZzogJ2dldCBmYWlsZWQhJyxcbiAgICAgICAgICBhY3RpdmVkUmVxdWVzdDogZ2V0UmVxdWVzdFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIHByb21pc2VcbiAgfVxuICBnZXRCeVByaW1hcnlLZXkoaWQ6IElUaW55REIuSVZhbGlkYXRlS2V5KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGdldFJlcXVlc3QgPSB0aGlzLnJlcXVlc3RTdG9yZSgpLmdldChpZClcbiAgICAgIGdldFJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICByZXNvbHZlKGdldFJlcXVlc3QucmVzdWx0KVxuICAgICAgfVxuICAgICAgZ2V0UmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICByZWplY3QoZ2V0UmVxdWVzdC5yZXN1bHQpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuICBnZXRCeUluZGV4KG9wdGlvbjogSVRpbnlEQi5JR2V0SW5kZXgpIHtcbiAgICBjb25zdCB7IGluZGV4LCB2YWx1ZSB9ID0gb3B0aW9uXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGdldFJlcXVlc3QgPSB0aGlzLnJlcXVlc3RTdG9yZSgpLmluZGV4KGluZGV4KS5nZXRBbGwodmFsdWUpXG4gICAgICBnZXRSZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZShnZXRSZXF1ZXN0LnJlc3VsdClcbiAgICAgIH1cbiAgICAgIGdldFJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgcmVqZWN0KGdldFJlcXVlc3QucmVzdWx0KVxuICAgICAgfVxuICAgIH0pXG4gIH1cbiAgZ2V0QWxsKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBnZXRSZXF1ZXN0ID0gdGhpcy5yZXF1ZXN0U3RvcmUoKS5nZXRBbGwoKVxuICAgICAgZ2V0UmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgIHJlc29sdmUoZ2V0UmVxdWVzdC5yZXN1bHQpXG4gICAgICB9XG4gICAgICBnZXRSZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIHJlamVjdChnZXRSZXF1ZXN0LnJlc3VsdClcbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIHNvbWUob3B0aW9uOiBJVGlueURCLklTb21lT3B0aW9ucykge1xuICAgIGNvbnN0IHsgaW5kZXgsIGxvd2VyLCB1cHBlciB9ID0gb3B0aW9uXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGNhY2hlOiBhbnkgPSBbXTtcbiAgICAgIGNvbnN0IGN1cnNvciA9IHRoaXMucmVxdWVzdFN0b3JlKCkuaW5kZXgoaW5kZXgpO1xuICAgICAgY29uc3QgcmFuZ2UgPSBJREJLZXlSYW5nZS5ib3VuZChsb3dlciwgdXBwZXIpXG4gICAgICBjb25zdCByYW5nZVJlcXVlc3QgPSBjdXJzb3Iub3BlbkN1cnNvcihyYW5nZSlcbiAgICAgIHJhbmdlUmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHJhbmdlUmVxdWVzdC5yZXN1bHQ7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBjYWNoZS5wdXNoKHJlc3VsdC52YWx1ZSlcbiAgICAgICAgICByZXN1bHQuY29udGludWUoKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUoY2FjaGUpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJhbmdlUmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICByZWplY3QocmFuZ2VSZXF1ZXN0LmVycm9yKVxuICAgICAgfVxuICAgIH0pXG4gIH1cbiAgZGVsZXRlUmVjb3JkKG9wdGlvbjogSVRpbnlEQi5JR2V0SW5kZXgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5nZXRCeUluZGV4KG9wdGlvbikudGhlbigoZGF0YTogYW55W10pID0+IHtcblxuICAgICAgICBpZiAoIWRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnNvbGUud2Fybignbm90IGZpbmQgdGhpcyByZWNvcmQnKVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGRhdGEpIHtcbiAgICAgICAgICBjb25zdCBzdG9yZSA9IHRoaXMucmVxdWVzdFN0b3JlKClcbiAgICAgICAgICBjb25zdCB7IGtleVBhdGggfSA9IHN0b3JlXG4gICAgICAgICAgY29uc3QgZGVsZXRlUmVxdWVzdCA9IHN0b3JlLmRlbGV0ZShpdGVtW2tleVBhdGggYXMgc3RyaW5nXSlcbiAgICAgICAgICBkZWxldGVSZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICBtc2c6ICdkZWxldGUgc3VjY2Vzc2Z1bGx5IScsXG4gICAgICAgICAgICAgIHN0YXR1czogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVsZXRlUmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgICAgbXNnOiAnZGVsZXRlIGZhaWxlZCEnLFxuICAgICAgICAgICAgICBzdGF0dXM6IGZhbHNlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICB9XG4gIGNsZWFyKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgY2xlYXJSZXF1ZXN0ID0gdGhpcy5yZXF1ZXN0U3RvcmUoKS5jbGVhcigpXG4gICAgICBjbGVhclJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICBtc2c6ICdjbGVhciBzdWNjZXNzZnVsbHkhJyxcbiAgICAgICAgICBzdGF0dXM6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGNsZWFyUmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICByZWplY3Qoe1xuICAgICAgICAgIG1zZzogJ2NsZWFyIGZhaWxlZCEnLFxuICAgICAgICAgIHN0YXR1czogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIGRlc3Ryb3llZCgpIHtcbiAgICB0aGlzLmRiID0gdW5kZWZpbmVkXG4gICAgdGhpcy5uYW1lID0gJydcbiAgfVxufSIsImltcG9ydCBUYWJsZSBmcm9tIFwiLi9UYWJsZVwiO1xuaW1wb3J0IHsgSVRpbnlEQiB9IGZyb20gXCIuL3R5cGVzL2luZGV4XCI7XG5cblxuY29uc3QgSU5fREIgPSB3aW5kb3cuaW5kZXhlZERCIHx8IHdpbmRvdy5tb3pJbmRleGVkREIgfHwgd2luZG93LndlYmtpdEluZGV4ZWREQiB8fCB3aW5kb3cubXNJbmRleGVkREI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbnlEQiB7XG4gIHByaXZhdGUgZGJOYW1lOiBzdHJpbmc7XG4gIHByaXZhdGUgdmVyc2lvbjogbnVtYmVyO1xuICBwcml2YXRlIGRiOiBJREJEYXRhYmFzZVxuICBzdGF0aWMgb2YoKSB7XG4gICAgcmV0dXJuIG5ldyBUaW55REJcbiAgfVxuICBjb25zdHJ1Y3RvcigpIHsgfVxuICBzZXR1cChvcHRpb25zOiBJVGlueURCLklEYXRhYmFzZSkge1xuICAgIGNvbnN0IHsgZGJOYW1lIH0gPSBvcHRpb25zXG4gICAgdGhpcy5kYk5hbWUgPSBkYk5hbWVcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBnZXRWZXJzaW9uKCkge1xuICAgIHJldHVybiB0aGlzLnZlcnNpb24gPyB0aGlzLnZlcnNpb24gOiAxXG4gIH1cbiAgc2V0VmVyc2lvbih2ZXJzaW9uOiBudW1iZXIpIHtcbiAgICB0aGlzLnZlcnNpb24gPSB2ZXJzaW9uXG4gIH1cbiAgdXBncmFkZSgpIHtcblxuICB9XG4gIGNyZWF0ZVRhYmxlKG9wdGlvbnM6IElUaW55REIuSVRhYmxlQ29uZmlnW10gPSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCB7IGRiTmFtZSB9ID0gdGhpc1xuICAgIGNvbnN0IHRoYXQgPSB0aGlzXG5cbiAgICBpZiAob3B0aW9ucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5lcnJvcignZGF0YWJhc2UgdGFibGUgY29uZmlnIG11c3QgYSBsaXN0JylcbiAgICB9XG5cbiAgICBjb25zdCByZXF1ZXN0ID0gSU5fREIub3BlbihkYk5hbWUsIHRoaXMuZ2V0VmVyc2lvbigpKVxuXG5cbiAgICBjb25zdCB1bmxpc3RlbiA9ICgpID0+IHtcbiAgICAgIHJlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigndXBncmFkZW5lZWRlZCcsIHVwZ3JhZGUpO1xuICAgIH07XG5cbiAgICBjb25zdCB1cGdyYWRlID0gKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ3VwZ3JhZGUnKVxuICAgICAgY29uc3QgZGIgPSByZXF1ZXN0LnJlc3VsdFxuICAgICAgZm9yIChjb25zdCB0YWJsZSBvZiBvcHRpb25zKSB7XG4gICAgICAgIGlmICghZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyh0YWJsZS5uYW1lKSkge1xuICAgICAgICAgIGNvbnN0IHJlY29yZCA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKHRhYmxlLm5hbWUsIHtcbiAgICAgICAgICAgIGtleVBhdGg6IHRhYmxlLmtleVBhdGgsXG4gICAgICAgICAgICBhdXRvSW5jcmVtZW50OiB0YWJsZS5hdXRvSW5jcmVtZW50ID8gdHJ1ZSA6IGZhbHNlXG4gICAgICAgICAgfSlcbiAgICAgICAgICBpZiAodGFibGUuaW5kZXhzICYmIHRhYmxlLmluZGV4cy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaW5kZXggb2YgdGFibGUuaW5kZXhzKSB7XG4gICAgICAgICAgICAgIHJlY29yZC5jcmVhdGVJbmRleChpbmRleC5pbmRleCwgaW5kZXgucmVsYXRpdmVJbmRleCwgeyB1bmlxdWU6IGluZGV4LnVuaXF1ZSB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhhdC5zZXRWZXJzaW9uKGRiLnZlcnNpb24pXG4gICAgICB1bmxpc3RlbigpXG4gICAgfVxuXG4gICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCd1cGdyYWRlbmVlZGVkJywgdXBncmFkZSlcblxuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLmNvbm5lY3QocmVxdWVzdCkudGhlbihkYiA9PiB7XG4gICAgICAgIGNvbnN0IHZlcnNpb25DaGFuZ2UgPSAoZXZ0OiBJREJWZXJzaW9uQ2hhbmdlRXZlbnQpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygndmVyc2lvbmNoYW5nZScpXG4gICAgICAgICAgZGIuY2xvc2UoKVxuICAgICAgICAgIGRiLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3ZlcnNpb25jaGFuZ2UnLCB2ZXJzaW9uQ2hhbmdlKVxuICAgICAgICB9XG4gICAgICAgIGRiLmFkZEV2ZW50TGlzdGVuZXIoJ3ZlcnNpb25jaGFuZ2UnLCB2ZXJzaW9uQ2hhbmdlKVxuICAgICAgfSlcbiAgICB9KVxuICAgIHJldHVybiBwcm9taXNlXG4gIH1cbiAgZGVsZXRlRGF0YWJhc2UobmFtZTogc3RyaW5nKSB7XG4gICBcbiAgICBjb25zdCByZXF1ZXN0ID0gSU5fREIuZGVsZXRlRGF0YWJhc2UobmFtZSlcbiAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKDIyMilcbiAgICAgICAgY29uc3QgbXNnOiBJVGlueURCLklTdGF0ZSA9IHtcbiAgICAgICAgICBtc2c6ICdEYXRhYmFzZSBkZWxldGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICAgICAgc3RhdHVzOiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShtc2cpXG4gICAgICB9XG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBtc2c6IElUaW55REIuSVN0YXRlID0ge1xuICAgICAgICAgIG1zZzogJ0RhdGFiYXNlIGRlbGV0ZWQgZmFpbGVkJyxcbiAgICAgICAgICBzdGF0dXM6IHRydWUsXG4gICAgICAgICAgYWN0aXZlZFJlcXVlc3Q6IHJlcXVlc3RcbiAgICAgICAgfVxuICAgICAgICByZWplY3QobXNnKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIHByb21pc2VcbiAgfVxuICBjb25uZWN0PFQ+KHJlcXVlc3Q6IElEQlJlcXVlc3Q8VD4sIG9wdGlvbnM/OiBJVGlueURCLklSZXF1ZXN0Q2FsbGJhY2spOiBQcm9taXNlPFQ+IHtcblxuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZTxUPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICAgIGNvbnN0IHVubGlzdGVuID0gKCkgPT4ge1xuICAgICAgICByZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Y2Nlc3MnLCBzdWNjZXNzKTtcbiAgICAgICAgcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9yKTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuc3VjY2Vzc2Z1bGx5KSB7XG4gICAgICAgICAgb3B0aW9ucy5zdWNjZXNzZnVsbHkocmVxdWVzdClcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcbiAgICAgICAgdW5saXN0ZW4oKVxuICAgICAgfVxuICAgICAgY29uc3QgYmxvY2tlZCA9ICgpID0+IHtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5ibG9ja2VkKSB7XG4gICAgICAgICAgb3B0aW9ucy5ibG9ja2VkKHJlcXVlc3QpXG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coJ2Nvbm5lY3QgYmxvY2tlZCcpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmVycm9yKSB7XG4gICAgICAgICAgb3B0aW9ucy5lcnJvcihyZXF1ZXN0KVxuICAgICAgICB9XG5cbiAgICAgICAgcmVqZWN0KHJlcXVlc3QuZXJyb3IpO1xuICAgICAgICB1bmxpc3RlbigpXG4gICAgICB9XG4gICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Y2Nlc3MnLCBzdWNjZXNzKVxuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9yKVxuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdibG9ja2VkJywgYmxvY2tlZClcbiAgICB9KVxuXG4gICAgcmV0dXJuIHByb21pc2VcbiAgfVxuICBpbnNlcnQodGFibGVfbmFtZTogc3RyaW5nLCByZWNvcmQ6IGFueSkge1xuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gSU5fREIub3Blbih0aGlzLmRiTmFtZSwgdGhpcy5nZXRWZXJzaW9uKCkpXG4gICAgICB0aGlzLmNvbm5lY3QocmVxdWVzdCkudGhlbigoZGI6IElEQkRhdGFiYXNlKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wZXJhdG9yID0gVGFibGUub2Yoe1xuICAgICAgICAgIG5hbWU6IHRhYmxlX25hbWUsXG4gICAgICAgICAgZGJcbiAgICAgICAgfSlcbiAgICAgICAgb3BlcmF0b3IuaW5zZXJ0KHJlY29yZCkudGhlbihyZXMgPT4gcmVzb2x2ZShyZXMpKS5jYXRjaCgoZXJyKSA9PiByZWplY3QoZXJyKSlcbiAgICAgIH0pXG4gICAgfSlcbiAgICByZXR1cm4gcHJvbWlzZVxuICB9XG4gIHVwZGF0ZSh0YWJsZV9uYW1lOiBzdHJpbmcsIGluZGV4OiBJVGlueURCLklWYWxpZGF0ZUtleSwgcmVjb3JkOiBhbnkpIHtcbiAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IElOX0RCLm9wZW4odGhpcy5kYk5hbWUsIHRoaXMuZ2V0VmVyc2lvbigpKVxuICAgICAgdGhpcy5jb25uZWN0KHJlcXVlc3QpLnRoZW4oKGRiOiBJREJEYXRhYmFzZSkgPT4ge1xuICAgICAgICBjb25zdCBvcGVyYXRvciA9IFRhYmxlLm9mKHtcbiAgICAgICAgICBuYW1lOiB0YWJsZV9uYW1lLFxuICAgICAgICAgIGRiXG4gICAgICAgIH0pXG4gICAgICAgIG9wZXJhdG9yLnVwZGF0ZShpbmRleCwgcmVjb3JkKS50aGVuKHJlcyA9PiByZXNvbHZlKHJlcykpLmNhdGNoKChlcnIpID0+IHJlamVjdChlcnIpKVxuICAgICAgfSlcbiAgICB9KVxuICAgIHJldHVybiBwcm9taXNlXG4gIH1cbiAgZ2V0QWxsKHRhYmxlX25hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gSU5fREIub3Blbih0aGlzLmRiTmFtZSwgdGhpcy5nZXRWZXJzaW9uKCkpXG4gICAgICB0aGlzLmNvbm5lY3QocmVxdWVzdCkudGhlbigoZGI6IElEQkRhdGFiYXNlKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wZXJhdG9yID0gVGFibGUub2Yoe1xuICAgICAgICAgIG5hbWU6IHRhYmxlX25hbWUsXG4gICAgICAgICAgZGJcbiAgICAgICAgfSlcbiAgICAgICAgb3BlcmF0b3IuZ2V0QWxsKCkudGhlbihyZXMgPT4gcmVzb2x2ZShyZXMpKS5jYXRjaCgoZXJyKSA9PiByZWplY3QoZXJyKSlcbiAgICAgIH0pXG4gICAgfSlcbiAgICByZXR1cm4gcHJvbWlzZVxuICB9XG4gIGdldEJ5UHJpbWFyeUtleSh0YWJsZV9uYW1lOiBzdHJpbmcsIGtleTogSVRpbnlEQi5JVmFsaWRhdGVLZXkpIHtcbiAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IElOX0RCLm9wZW4odGhpcy5kYk5hbWUsIHRoaXMuZ2V0VmVyc2lvbigpKVxuICAgICAgdGhpcy5jb25uZWN0KHJlcXVlc3QpLnRoZW4oKGRiOiBJREJEYXRhYmFzZSkgPT4ge1xuICAgICAgICBjb25zdCBvcGVyYXRvciA9IFRhYmxlLm9mKHtcbiAgICAgICAgICBuYW1lOiB0YWJsZV9uYW1lLFxuICAgICAgICAgIGRiXG4gICAgICAgIH0pXG4gICAgICAgIG9wZXJhdG9yLmdldEJ5UHJpbWFyeUtleShrZXkpLnRoZW4ocmVzID0+IHJlc29sdmUocmVzKSkuY2F0Y2goKGVycikgPT4gcmVqZWN0KGVycikpXG4gICAgICB9KVxuICAgIH0pXG4gICAgcmV0dXJuIHByb21pc2VcbiAgfVxuICBnZXRCeUluZGV4KHRhYmxlX25hbWU6IHN0cmluZywgb3B0aW9uczogSVRpbnlEQi5JR2V0SW5kZXgpIHtcbiAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IElOX0RCLm9wZW4odGhpcy5kYk5hbWUsIHRoaXMuZ2V0VmVyc2lvbigpKVxuICAgICAgdGhpcy5jb25uZWN0KHJlcXVlc3QpLnRoZW4oKGRiOiBJREJEYXRhYmFzZSkgPT4ge1xuICAgICAgICBjb25zdCBvcGVyYXRvciA9IFRhYmxlLm9mKHtcbiAgICAgICAgICBuYW1lOiB0YWJsZV9uYW1lLFxuICAgICAgICAgIGRiXG4gICAgICAgIH0pXG4gICAgICAgIG9wZXJhdG9yLmdldEJ5SW5kZXgob3B0aW9ucykudGhlbihyZXMgPT4gcmVzb2x2ZShyZXMpKS5jYXRjaCgoZXJyKSA9PiByZWplY3QoZXJyKSlcbiAgICAgIH0pXG4gICAgfSlcbiAgICByZXR1cm4gcHJvbWlzZVxuICB9XG4gIGRlbGV0ZVJlY29yZCh0YWJsZV9uYW1lOiBzdHJpbmcsIG9wdGlvbnM6IElUaW55REIuSUdldEluZGV4KSB7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBJTl9EQi5vcGVuKHRoaXMuZGJOYW1lLCB0aGlzLmdldFZlcnNpb24oKSlcbiAgICAgIHRoaXMuY29ubmVjdChyZXF1ZXN0KS50aGVuKChkYjogSURCRGF0YWJhc2UpID0+IHtcbiAgICAgICAgY29uc3Qgb3BlcmF0b3IgPSBUYWJsZS5vZih7XG4gICAgICAgICAgbmFtZTogdGFibGVfbmFtZSxcbiAgICAgICAgICBkYlxuICAgICAgICB9KVxuICAgICAgICBvcGVyYXRvci5kZWxldGVSZWNvcmQob3B0aW9ucykudGhlbihyZXMgPT4gcmVzb2x2ZShyZXMpKS5jYXRjaCgoZXJyKSA9PiByZWplY3QoZXJyKSlcbiAgICAgIH0pXG4gICAgfSlcbiAgICByZXR1cm4gcHJvbWlzZVxuICB9XG4gIHNvbWUodGFibGVfbmFtZTogc3RyaW5nLCBvcHRpb25zOiBJVGlueURCLklTb21lT3B0aW9ucykge1xuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gSU5fREIub3Blbih0aGlzLmRiTmFtZSwgdGhpcy5nZXRWZXJzaW9uKCkpXG4gICAgICB0aGlzLmNvbm5lY3QocmVxdWVzdCkudGhlbigoZGI6IElEQkRhdGFiYXNlKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wZXJhdG9yID0gVGFibGUub2Yoe1xuICAgICAgICAgIG5hbWU6IHRhYmxlX25hbWUsXG4gICAgICAgICAgZGJcbiAgICAgICAgfSlcbiAgICAgICAgb3BlcmF0b3Iuc29tZShvcHRpb25zKS50aGVuKHJlcyA9PiByZXNvbHZlKHJlcykpLmNhdGNoKChlcnIpID0+IHJlamVjdChlcnIpKVxuICAgICAgfSlcbiAgICB9KVxuICAgIHJldHVybiBwcm9taXNlXG4gIH1cbiAgY2xlYXJUYWJsZVJlY29yZCh0YWJsZV9uYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IElOX0RCLm9wZW4odGhpcy5kYk5hbWUsIHRoaXMuZ2V0VmVyc2lvbigpKVxuICAgICAgdGhpcy5jb25uZWN0KHJlcXVlc3QpLnRoZW4oKGRiOiBJREJEYXRhYmFzZSkgPT4ge1xuICAgICAgICBjb25zdCBvcGVyYXRvciA9IFRhYmxlLm9mKHtcbiAgICAgICAgICBuYW1lOiB0YWJsZV9uYW1lLFxuICAgICAgICAgIGRiXG4gICAgICAgIH0pXG4gICAgICAgIG9wZXJhdG9yLmNsZWFyKCkudGhlbihyZXMgPT4gcmVzb2x2ZShyZXMpKS5jYXRjaCgoZXJyKSA9PiByZWplY3QoZXJyKSlcbiAgICAgIH0pXG4gICAgfSlcbiAgICByZXR1cm4gcHJvbWlzZVxuICB9XG59XG5cbiIsImltcG9ydCBUaW55REIgZnJvbSBcIi4vVGlueURCXCI7XG5cbndpbmRvdy5UaW55REIgPSBUaW55REJcblxuZXhwb3J0IHtcbiAgVGlueURCIFxufSJdfQ=="}